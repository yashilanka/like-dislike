!function(s){var t="like",l="dislike",n={init:function(t){this.opts=s.extend(!0,{},s.fn.likeDislike.defaults,t);var l=this.opts;return this.btns=s(this).find("."+l.likeBtnClass+", ."+l.dislikeBtnClass),this.readOnly=n.readOnly,l.readOnly=!l.readOnly,this.readOnly(!l.readOnly),l.activeBtn&&n._btnDown.call(this,l.activeBtn),this},readOnly:function(s){var t=this.opts;if(t.readOnly!==s){var l=this.btns;if(t.readOnly=s,s)n._unbind.call(this,l);else{if(!t.reverseMode){var i=l.not("."+t.activeClass);i.length&&(l=i)}n._bind.call(this,l)}}},_btnDown:function(s){var t=n._getBtnByType.call(this,s);t.addClass(this.opts.activeClass),this.opts.reverseMode||n._unbind.call(this,t)},_btnUp:function(s){var t=n._getBtnByType.call(this,s);this.opts.reverseMode||n._bind.call(this,t),t.removeClass(this.opts.activeClass)},_getBtnByType:function(n){return n===t?s(this).find("."+this.opts.likeBtnClass):n===l?s(this).find("."+this.opts.dislikeBtnClass):void s.error("Wrong button type: "+n)},_bind:function(i){var e=this,a=e.opts;i.removeClass(a.disableClass),i.bind("click",function(i){var o=s(this),r=o.hasClass(a.likeBtnClass)?t:l,c=e.btns.hasClass(a.activeClass),d=o.hasClass(a.activeClass),h=0,b=0;a.reverseMode?r===t?d?(n._btnUp.call(e,t),r=null,h=-1):(n._btnDown.call(e,t),n._btnUp.call(e,l),b=c?-1:b,h=1):d?(n._btnUp.call(e,l),r=null,b=-1):(n._btnDown.call(e,l),n._btnUp.call(e,t),h=c?-1:h,b=1):r===t?c?(n._btnUp.call(e,l),n._btnDown.call(e,t),b=d?b:-1,h=1):(n._btnDown.call(e,t),h=1):c?(n._btnUp.call(e,t),n._btnDown.call(e,l),h=d?h:-1,b=1):(n._btnDown.call(e,l),b=1),a.click.call(e,r,h,b,i)})},_unbind:function(s){s.addClass(this.opts.disableClass),s.unbind()}};s.fn.likeDislike=function(t){return n[t]?n[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void s.error("Method "+t+" does not exist!"):n.init.apply(this,arguments)},s.fn.likeDislike.defaults={click:null,activeBtn:null,readOnly:!1,reverseMode:!1,likeBtnClass:"like",dislikeBtnClass:"dislike",activeClass:"active",disableClass:"disable"}}(jQuery);